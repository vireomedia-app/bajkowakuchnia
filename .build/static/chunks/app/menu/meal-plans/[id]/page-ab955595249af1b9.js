(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[640],{4617:function(e,a,s){Promise.resolve().then(s.bind(s,3680)),Promise.resolve().then(s.t.bind(s,5558,23))},3680:function(e,a,s){"use strict";s.d(a,{MealPlanEditor:function(){return N}});var r=s(5444),i=s(9300),t=s(7834),n=s(9827),l=s(1335),c=s(2422),d=s(1489),o=s(4678),m=s(4627),x=s(6584),u=s(3176),p=s(5076),f=s(6124),g=s(6772),h=s(563),y=s(1585);let j={BREAKFAST:"Śniadanie",SECOND_BREAKFAST:"II Śniadanie",LUNCH:"Obiad",FIRST_SNACK:"Podwieczorek I",SECOND_SNACK:"Podwieczorek II",DINNER:"Kolacja",OTHER:"Inne"},b={1:"Poniedziałek",2:"Wtorek",3:"Środa",4:"Czwartek",5:"Piątek",6:"Sobota",7:"Niedziela"};var v=s(5522);function N({mealPlan:e,availableRecipes:a}){let[s,h]=(0,i.useState)(e),[j,N]=(0,i.useState)(1),[P,F]=(0,i.useState)(""),[z,R]=(0,i.useState)(null),[S,A]=(0,i.useState)(!1),V=(0,t.Dy)((0,t.VT)(t.we,{activationConstraint:{distance:8}})),I=(0,i.useMemo)(()=>{if(!P.trim())return a;let e=P.toLowerCase();return a.filter(a=>a.name.toLowerCase().includes(e))},[P,a]),M=(0,i.useMemo)(()=>{let e={BREAKFAST:[],SECOND_BREAKFAST:[],LUNCH:[],FIRST_SNACK:[],SECOND_SNACK:[],UNCATEGORIZED:[]};return I.forEach(a=>{a.categories&&a.categories.length>0?a.categories.forEach(s=>{e[s]&&!e[s].find(e=>e.id===a.id)&&e[s].push(a)}):e.UNCATEGORIZED.push(a)}),e},[I]),O=async e=>{let{active:a,over:r}=e;if(R(null),!r)return;let i=a.data.current,t=r.id;if(i.fromMealId!==t)try{let e=await fetch(`/api/meal-plans/${s.id}/meals/${t}/recipes`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({recipeId:i.recipe.id,servings:1})});if(!e.ok)throw Error("Failed to add recipe to meal");let a=await e.json();h(e=>{let s=e.days.map(e=>({...e,meals:e.meals.map(e=>e.id===t?{...e,recipes:[...e.recipes,a]}:i.fromMealId&&e.id===i.fromMealId?{...e,recipes:e.recipes.filter(e=>e.id!==i.mealPlanRecipeId)}:e)}));return{...e,days:s}}),i.fromMealId&&i.mealPlanRecipeId&&await fetch(`/api/meal-plans/${s.id}/meals/${i.fromMealId}/recipes/${i.mealPlanRecipeId}`,{method:"DELETE"}),y.A.success("Receptura została dodana")}catch(e){console.error("Error adding recipe:",e),y.A.error("Błąd podczas dodawania receptury")}},T=async(e,a)=>{try{if(!(await fetch(`/api/meal-plans/${s.id}/meals/${e}/recipes/${a}`,{method:"DELETE"})).ok)throw Error("Failed to remove recipe");h(s=>{let r=s.days.map(s=>({...s,meals:s.meals.map(s=>s.id===e?{...s,recipes:s.recipes.filter(e=>e.id!==a)}:s)}));return{...s,days:r}}),y.A.success("Receptura została usunięta")}catch(e){console.error("Error removing recipe:",e),y.A.error("Błąd podczas usuwania receptury")}},Z=s.days.find(e=>e.dayOfWeek===j),D=Z?function(e){let a={calories:0,protein:0,fat:0,saturatedFat:0,carbohydrates:0,sugars:0,salt:0,calcium:0,iron:0,vitaminC:0};for(let s of e.meals)for(let e of s.recipes){if(!e.recipe?.ingredients)continue;let s=function(e){let a={calories:0,protein:0,fat:0,saturatedFat:0,carbohydrates:0,sugars:0,salt:0,calcium:0,iron:0,vitaminC:0};for(let s of e){if(!s.product)continue;let e=s.quantity;"kg"===s.unit?e=1e3*s.quantity:("l"===s.unit||"ml"===s.unit)&&(e="l"===s.unit?1e3*s.quantity:s.quantity);let r=e/100;a.calories+=(s.product.calories||0)*r,a.protein+=(s.product.protein||0)*r,a.fat+=(s.product.fat||0)*r,a.saturatedFat+=(s.product.saturatedFat||0)*r,a.carbohydrates+=(s.product.carbohydrates||0)*r,a.sugars+=(s.product.sugars||0)*r,a.salt+=(s.product.salt||0)*r,a.calcium+=(s.product.calcium||0)*r,a.iron+=(s.product.iron||0)*r,a.vitaminC+=(s.product.vitaminC||0)*r}return a}(e.recipe.ingredients),r=e.servings;a.calories+=s.calories*r,a.protein+=s.protein*r,a.fat+=s.fat*r,a.saturatedFat+=s.saturatedFat*r,a.carbohydrates+=s.carbohydrates*r,a.sugars+=s.sugars*r,a.salt+=s.salt*r,a.calcium+=s.calcium*r,a.iron+=s.iron*r,a.vitaminC+=s.vitaminC*r}return a}(Z):null,_=Z&&s.standards&&D?function(e,a){let s=4*e.protein,r=9*e.fat,i=4*e.carbohydrates,t=e.calories||1,n=s/t*100,l=r/t*100,c=i/t*100;return{energy:{value:e.calories,min:a.energyMin,max:a.energyMax,isValid:e.calories>=a.energyMin&&e.calories<=a.energyMax},proteinPercent:{value:n,min:a.proteinPercentMin,max:a.proteinPercentMax,isValid:n>=a.proteinPercentMin&&n<=a.proteinPercentMax},fatPercent:{value:l,min:a.fatPercentMin,max:a.fatPercentMax,isValid:l>=a.fatPercentMin&&l<=a.fatPercentMax},carbohydratesPercent:{value:c,min:a.carbohydratesPercentMin,max:a.carbohydratesPercentMax,isValid:c>=a.carbohydratesPercentMin&&c<=a.carbohydratesPercentMax},calcium:{value:e.calcium,target:a.calcium,isValid:e.calcium>=.9*a.calcium&&e.calcium<=1.1*a.calcium},iron:{value:e.iron,target:a.iron,isValid:e.iron>=.9*a.iron&&e.iron<=1.1*a.iron},vitaminC:{value:e.vitaminC,target:a.vitaminC,isValid:e.vitaminC>=.9*a.vitaminC&&e.vitaminC<=1.1*a.vitaminC}}}(D,s.standards):null,B=async()=>{A(!0);try{if(!(await fetch(`/api/meal-plans/${s.id}`,{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify({name:s.name,weekNumber:s.weekNumber,season:s.season,description:s.description,standardsId:s.standardsId})})).ok)throw Error("Failed to save meal plan");y.A.success("Jadłospis został zapisany")}catch(e){console.error("Error saving meal plan:",e),y.A.error("Błąd podczas zapisywania jadłospisu")}finally{A(!1)}},K=async()=>{try{y.A.info("Eksportuję jadłospis...");let e=await fetch(`/api/meal-plans/${s.id}/export`);if(!e.ok)throw Error("Failed to export meal plan");let a=await e.blob(),r=window.URL.createObjectURL(a),i=document.createElement("a");i.href=r,i.download=`Jadlospis_${s.name.replace(/\s+/g,"_")}.xlsx`,document.body.appendChild(i),i.click(),document.body.removeChild(i),window.URL.revokeObjectURL(r),y.A.success("Jadłospis został wyeksportowany")}catch(e){console.error("Error exporting meal plan:",e),y.A.error("Błąd podczas eksportowania jadłospisu")}};return(0,r.jsxs)("div",{className:"space-y-6",children:[(0,r.jsx)(n.Zb,{children:(0,r.jsx)(n.Ol,{children:(0,r.jsxs)("div",{className:"flex items-start justify-between",children:[(0,r.jsxs)("div",{children:[(0,r.jsxs)(n.ll,{className:"text-2xl flex items-center gap-2",children:[(0,r.jsx)(m.Z,{className:"w-6 h-6"}),s.name]}),s.description&&(0,r.jsx)(n.SZ,{className:"mt-2",children:s.description}),(0,r.jsxs)("div",{className:"flex gap-3 mt-3",children:[s.weekNumber&&(0,r.jsxs)(l.C,{variant:"outline",children:["Tydzień ",s.weekNumber]}),s.season&&(0,r.jsx)(l.C,{variant:"outline",children:"SPRING"===s.season?"Wiosna":"SUMMER"===s.season?"Lato":"AUTUMN"===s.season?"Jesień":"Zima"})]})]}),(0,r.jsxs)("div",{className:"flex gap-2",children:[(0,r.jsx)(c.z,{variant:"default",className:"gap-2",onClick:B,disabled:S,children:S?"Zapisywanie...":"Zapisz jadłospis"}),(0,r.jsxs)(c.z,{variant:"outline",className:"gap-2",onClick:K,children:[(0,r.jsx)(x.Z,{className:"w-4 h-4"}),"Eksport"]})]})]})})}),(0,r.jsxs)(t.LB,{sensors:V,onDragStart:e=>{let{active:a}=e;R(a.data.current)},onDragEnd:O,children:[(0,r.jsxs)("div",{className:"grid grid-cols-1 lg:grid-cols-4 gap-6",children:[(0,r.jsxs)(n.Zb,{className:"lg:col-span-1",children:[(0,r.jsxs)(n.Ol,{children:[(0,r.jsxs)(n.ll,{className:"flex items-center gap-2 text-lg",children:[(0,r.jsx)(u.Z,{className:"w-5 h-5"}),"Receptury"]}),(0,r.jsxs)("div",{className:"relative mt-2",children:[(0,r.jsx)(p.Z,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 w-4 h-4 text-gray-400"}),(0,r.jsx)(o.I,{placeholder:"Szukaj receptury...",value:P,onChange:e=>F(e.target.value),className:"pl-9"})]})]}),(0,r.jsx)(n.aY,{className:"p-0",children:(0,r.jsx)(d.x,{className:"h-[600px]",children:(0,r.jsxs)("div",{className:"p-4 space-y-4",children:[M.BREAKFAST.length>0&&(0,r.jsxs)("div",{children:[(0,r.jsx)("h4",{className:"text-xs font-semibold text-gray-600 mb-2 px-2 uppercase tracking-wider",children:"Śniadanie"}),(0,r.jsx)("div",{className:"space-y-2",children:M.BREAKFAST.map(e=>(0,r.jsx)(w,{recipe:e},e.id))})]}),M.SECOND_BREAKFAST.length>0&&(0,r.jsxs)("div",{children:[(0,r.jsx)("h4",{className:"text-xs font-semibold text-gray-600 mb-2 px-2 uppercase tracking-wider",children:"Drugie śniadanie"}),(0,r.jsx)("div",{className:"space-y-2",children:M.SECOND_BREAKFAST.map(e=>(0,r.jsx)(w,{recipe:e},e.id))})]}),M.LUNCH.length>0&&(0,r.jsxs)("div",{children:[(0,r.jsx)("h4",{className:"text-xs font-semibold text-gray-600 mb-2 px-2 uppercase tracking-wider",children:"Obiad"}),(0,r.jsx)("div",{className:"space-y-2",children:M.LUNCH.map(e=>(0,r.jsx)(w,{recipe:e},e.id))})]}),M.FIRST_SNACK.length>0&&(0,r.jsxs)("div",{children:[(0,r.jsx)("h4",{className:"text-xs font-semibold text-gray-600 mb-2 px-2 uppercase tracking-wider",children:"Podwieczorek pierwszy"}),(0,r.jsx)("div",{className:"space-y-2",children:M.FIRST_SNACK.map(e=>(0,r.jsx)(w,{recipe:e},e.id))})]}),M.SECOND_SNACK.length>0&&(0,r.jsxs)("div",{children:[(0,r.jsx)("h4",{className:"text-xs font-semibold text-gray-600 mb-2 px-2 uppercase tracking-wider",children:"Podwieczorek drugi"}),(0,r.jsx)("div",{className:"space-y-2",children:M.SECOND_SNACK.map(e=>(0,r.jsx)(w,{recipe:e},e.id))})]}),M.UNCATEGORIZED.length>0&&(0,r.jsxs)("div",{children:[(0,r.jsx)("h4",{className:"text-xs font-semibold text-gray-600 mb-2 px-2 uppercase tracking-wider",children:"Bez kategorii"}),(0,r.jsx)("div",{className:"space-y-2",children:M.UNCATEGORIZED.map(e=>(0,r.jsx)(w,{recipe:e},e.id))})]}),0===I.length&&(0,r.jsx)("div",{className:"text-center py-8 text-gray-500 text-sm",children:"Brak receptur"})]})})})]}),(0,r.jsxs)("div",{className:"lg:col-span-3 space-y-6",children:[(0,r.jsxs)(n.Zb,{children:[(0,r.jsx)(n.Ol,{className:"pb-3",children:(0,r.jsx)(n.ll,{className:"text-lg",children:"Wybierz dzień tygodnia"})}),(0,r.jsx)(n.aY,{children:(0,r.jsx)("div",{className:"grid grid-cols-5 gap-2",children:[1,2,3,4,5].map(e=>(0,r.jsx)(c.z,{variant:j===e?"default":"outline",size:"sm",onClick:()=>N(e),className:"text-xs",children:b[e]},e))})})]}),_&&s.standards&&D&&(0,r.jsxs)(n.Zb,{className:(0,v.cn)("border-2",_.energy.isValid&&_.proteinPercent.isValid&&_.fatPercent.isValid&&_.carbohydratesPercent.isValid&&_.calcium.isValid&&_.iron.isValid&&_.vitaminC.isValid?"border-green-500 bg-green-50":"border-amber-500 bg-amber-50"),children:[(0,r.jsx)(n.Ol,{className:"pb-3",children:(0,r.jsx)(n.ll,{className:"text-base flex items-center gap-2",children:_.energy.isValid&&_.proteinPercent.isValid&&_.fatPercent.isValid&&_.carbohydratesPercent.isValid&&_.calcium.isValid&&_.iron.isValid&&_.vitaminC.isValid?(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(f.Z,{className:"w-5 h-5 text-green-600"}),(0,r.jsx)("span",{className:"text-green-900",children:"Dzień spełnia wszystkie normy żywieniowe"})]}):(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(g.Z,{className:"w-5 h-5 text-amber-600"}),(0,r.jsx)("span",{className:"text-amber-900",children:"Uwaga: niekt\xf3re wartości poza normą"})]})})}),(0,r.jsxs)(n.aY,{className:"space-y-4",children:[(0,r.jsxs)("div",{children:[(0,r.jsx)("h4",{className:"text-sm font-semibold text-gray-700 mb-2",children:"Makroskładniki"}),(0,r.jsxs)("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-3 text-sm",children:[(0,r.jsx)(C,{label:"Energia",value:Math.round(_.energy.value),unit:"kcal",min:_.energy.min,max:_.energy.max,isValid:_.energy.isValid}),(0,r.jsx)(C,{label:"Białko",value:_.proteinPercent.value.toFixed(1),unit:"%",min:_.proteinPercent.min,max:_.proteinPercent.max,isValid:_.proteinPercent.isValid,subtitle:`${D.protein.toFixed(1)}g`}),(0,r.jsx)(C,{label:"Tłuszcz",value:_.fatPercent.value.toFixed(1),unit:"%",min:_.fatPercent.min,max:_.fatPercent.max,isValid:_.fatPercent.isValid,subtitle:`${D.fat.toFixed(1)}g`}),(0,r.jsx)(C,{label:"Węglowodany",value:_.carbohydratesPercent.value.toFixed(1),unit:"%",min:_.carbohydratesPercent.min,max:_.carbohydratesPercent.max,isValid:_.carbohydratesPercent.isValid,subtitle:`${D.carbohydrates.toFixed(1)}g`})]})]}),(0,r.jsxs)("div",{children:[(0,r.jsx)("h4",{className:"text-sm font-semibold text-gray-700 mb-2",children:"Witaminy i minerały"}),(0,r.jsxs)("div",{className:"grid grid-cols-3 gap-3 text-sm",children:[(0,r.jsx)(k,{label:"Wapń",value:_.calcium.value.toFixed(1),unit:"mg",target:_.calcium.target,isValid:_.calcium.isValid}),(0,r.jsx)(k,{label:"Żelazo",value:_.iron.value.toFixed(1),unit:"mg",target:_.iron.target,isValid:_.iron.isValid}),(0,r.jsx)(k,{label:"Witamina C",value:_.vitaminC.value.toFixed(1),unit:"mg",target:_.vitaminC.target,isValid:_.vitaminC.isValid})]})]})]})]}),Z&&(0,r.jsx)("div",{className:"space-y-4",children:Z.meals.map(e=>(0,r.jsx)(E,{meal:e,onRemoveRecipe:T},e.id))})]})]}),(0,r.jsx)(t.y9,{children:z?(0,r.jsx)("div",{className:"p-3 bg-white border-2 border-blue-500 rounded-lg shadow-lg",children:(0,r.jsx)("div",{className:"font-medium text-sm",children:z.recipe.name})}):null})]})]})}function w({recipe:e}){let{attributes:a,listeners:s,setNodeRef:i,isDragging:n}=(0,t.O1)({id:`recipe-${e.id}`,data:{recipe:e}}),l=e.servings>0?e.servings:1,c=e.nutrition?{calories:Math.round(e.nutrition.calories/l),protein:(e.nutrition.protein/l).toFixed(1),fat:(e.nutrition.fat/l).toFixed(1),carbohydrates:(e.nutrition.carbohydrates/l).toFixed(1),calcium:(e.nutrition.calcium/l).toFixed(1),iron:(e.nutrition.iron/l).toFixed(2),vitaminC:(e.nutrition.vitaminC/l).toFixed(1)}:null;return(0,r.jsxs)("div",{ref:i,...s,...a,className:(0,v.cn)("p-3 bg-white border border-gray-200 rounded-lg cursor-move hover:border-blue-500 hover:shadow-md transition-all",n&&"opacity-50"),children:[(0,r.jsx)("div",{className:"font-medium text-sm text-gray-900 mb-2",children:e.name}),(0,r.jsxs)("div",{className:"text-xs text-gray-500 mb-2",children:[e.servings," ",1===e.servings?"porcja":"porcje"]}),c&&(0,r.jsxs)("div",{className:"space-y-1.5 pt-2 border-t border-gray-100",children:[(0,r.jsxs)("div",{className:"flex items-center justify-between text-xs",children:[(0,r.jsx)("span",{className:"text-gray-600",children:"Energia:"}),(0,r.jsxs)("span",{className:"font-semibold text-blue-600",children:[c.calories," kcal"]})]}),(0,r.jsxs)("div",{className:"flex items-center justify-between text-xs",children:[(0,r.jsx)("span",{className:"text-gray-600",children:"Białko:"}),(0,r.jsxs)("span",{className:"font-medium text-gray-800",children:[c.protein," g"]})]}),(0,r.jsxs)("div",{className:"flex items-center justify-between text-xs",children:[(0,r.jsx)("span",{className:"text-gray-600",children:"Tłuszcze:"}),(0,r.jsxs)("span",{className:"font-medium text-gray-800",children:[c.fat," g"]})]}),(0,r.jsxs)("div",{className:"flex items-center justify-between text-xs",children:[(0,r.jsx)("span",{className:"text-gray-600",children:"Węglowodany:"}),(0,r.jsxs)("span",{className:"font-medium text-gray-800",children:[c.carbohydrates," g"]})]}),(0,r.jsxs)("div",{className:"flex items-center justify-between text-xs",children:[(0,r.jsx)("span",{className:"text-gray-600",children:"Wapń:"}),(0,r.jsxs)("span",{className:"font-medium text-gray-800",children:[c.calcium," mg"]})]}),(0,r.jsxs)("div",{className:"flex items-center justify-between text-xs",children:[(0,r.jsx)("span",{className:"text-gray-600",children:"Żelazo:"}),(0,r.jsxs)("span",{className:"font-medium text-gray-800",children:[c.iron," mg"]})]}),(0,r.jsxs)("div",{className:"flex items-center justify-between text-xs",children:[(0,r.jsx)("span",{className:"text-gray-600",children:"Wit. C:"}),(0,r.jsxs)("span",{className:"font-medium text-gray-800",children:[c.vitaminC," mg"]})]})]})]})}function C({label:e,value:a,unit:s,min:i,max:t,isValid:n,subtitle:l}){return(0,r.jsxs)("div",{className:(0,v.cn)("p-2 rounded-lg",n?"bg-green-100":"bg-red-100"),children:[(0,r.jsx)("div",{className:"text-xs text-gray-600",children:e}),(0,r.jsxs)("div",{className:(0,v.cn)("font-bold",n?"text-green-900":"text-red-900"),children:[a," ",s]}),l&&(0,r.jsx)("div",{className:"text-xs text-gray-700 mt-0.5",children:l}),(0,r.jsxs)("div",{className:"text-xs text-gray-600 mt-1",children:["Norma: ",i,"-",t]})]})}function k({label:e,value:a,unit:s,target:i,isValid:t}){let n=(.9*i).toFixed(1),l=(1.1*i).toFixed(1);return(0,r.jsxs)("div",{className:(0,v.cn)("p-2 rounded-lg",t?"bg-green-100":"bg-red-100"),children:[(0,r.jsx)("div",{className:"text-xs text-gray-600",children:e}),(0,r.jsxs)("div",{className:(0,v.cn)("font-bold",t?"text-green-900":"text-red-900"),children:[a," ",s]}),(0,r.jsxs)("div",{className:"text-xs text-gray-600 mt-1",children:["Cel: ",i," ",s]}),(0,r.jsxs)("div",{className:"text-xs text-gray-500",children:["(",n,"-",l,")"]})]})}function E({meal:e,onRemoveRecipe:a}){let{setNodeRef:s,isOver:i}=(0,t.Zj)({id:e.id});return(0,r.jsxs)(n.Zb,{children:[(0,r.jsx)(n.Ol,{className:"pb-3",children:(0,r.jsx)(n.ll,{className:"text-base",children:j[e.mealType]})}),(0,r.jsx)(n.aY,{children:(0,r.jsx)("div",{ref:s,className:(0,v.cn)("min-h-[100px] p-4 rounded-lg border-2 border-dashed transition-colors",i?"border-blue-500 bg-blue-50":"border-gray-300 bg-gray-50",0===e.recipes.length&&"flex items-center justify-center"),children:0===e.recipes.length?(0,r.jsx)("div",{className:"text-center text-gray-500 text-sm",children:"Przeciągnij recepturę tutaj"}):(0,r.jsx)("div",{className:"space-y-2",children:e.recipes.map(s=>(0,r.jsx)(P,{mealRecipe:s,mealId:e.id,onRemoveRecipe:a},s.id))})})})]})}function P({mealRecipe:e,mealId:a,onRemoveRecipe:s}){let{attributes:i,listeners:n,setNodeRef:l,isDragging:d}=(0,t.O1)({id:`meal-recipe-${e.id}`,data:{recipe:e.recipe,fromMealId:a,mealPlanRecipeId:e.id}}),o=e.recipe?.servings>0?e.recipe.servings:1,m=e.recipe?.nutrition?{calories:Math.round(e.recipe.nutrition.calories/o),protein:(e.recipe.nutrition.protein/o).toFixed(1),fat:(e.recipe.nutrition.fat/o).toFixed(1),carbohydrates:(e.recipe.nutrition.carbohydrates/o).toFixed(1),calcium:(e.recipe.nutrition.calcium/o).toFixed(1),iron:(e.recipe.nutrition.iron/o).toFixed(2),vitaminC:(e.recipe.nutrition.vitaminC/o).toFixed(1)}:null;return(0,r.jsxs)("div",{ref:l,...n,...i,className:(0,v.cn)("flex items-start justify-between p-3 bg-white border border-gray-200 rounded-lg hover:shadow-md transition-shadow group cursor-move",d&&"opacity-50"),children:[(0,r.jsxs)("div",{className:"flex-1 min-w-0",children:[(0,r.jsx)("div",{className:"font-medium text-gray-900 mb-1",children:e.recipe?.name}),(0,r.jsxs)("div",{className:"text-xs text-gray-500 mb-2",children:[e.servings," ",1===e.servings?"porcja":"porcje"]}),m&&(0,r.jsxs)("div",{className:"grid grid-cols-2 gap-x-3 gap-y-1 text-xs pt-2 border-t border-gray-100",children:[(0,r.jsxs)("div",{className:"flex items-center justify-between col-span-2",children:[(0,r.jsx)("span",{className:"text-gray-600",children:"Energia:"}),(0,r.jsxs)("span",{className:"font-semibold text-blue-600",children:[m.calories," kcal"]})]}),(0,r.jsxs)("div",{className:"flex items-center justify-between",children:[(0,r.jsx)("span",{className:"text-gray-600",children:"Białko:"}),(0,r.jsxs)("span",{className:"font-medium text-gray-800",children:[m.protein," g"]})]}),(0,r.jsxs)("div",{className:"flex items-center justify-between",children:[(0,r.jsx)("span",{className:"text-gray-600",children:"Tłuszcze:"}),(0,r.jsxs)("span",{className:"font-medium text-gray-800",children:[m.fat," g"]})]}),(0,r.jsxs)("div",{className:"flex items-center justify-between col-span-2",children:[(0,r.jsx)("span",{className:"text-gray-600",children:"Węglowodany:"}),(0,r.jsxs)("span",{className:"font-medium text-gray-800",children:[m.carbohydrates," g"]})]}),(0,r.jsxs)("div",{className:"flex items-center justify-between",children:[(0,r.jsx)("span",{className:"text-gray-600",children:"Wapń:"}),(0,r.jsxs)("span",{className:"font-medium text-gray-800",children:[m.calcium," mg"]})]}),(0,r.jsxs)("div",{className:"flex items-center justify-between",children:[(0,r.jsx)("span",{className:"text-gray-600",children:"Żelazo:"}),(0,r.jsxs)("span",{className:"font-medium text-gray-800",children:[m.iron," mg"]})]}),(0,r.jsxs)("div",{className:"flex items-center justify-between col-span-2",children:[(0,r.jsx)("span",{className:"text-gray-600",children:"Wit. C:"}),(0,r.jsxs)("span",{className:"font-medium text-gray-800",children:[m.vitaminC," mg"]})]})]})]}),(0,r.jsx)(c.z,{variant:"ghost",size:"sm",onClick:()=>s(a,e.id),className:"opacity-0 group-hover:opacity-100 transition-opacity ml-2 flex-shrink-0",children:(0,r.jsx)(h.Z,{className:"w-4 h-4 text-red-600"})})]})}},1335:function(e,a,s){"use strict";s.d(a,{C:function(){return l}});var r=s(5444);s(9300);var i=s(2371),t=s(5522);let n=(0,i.j)("inline-flex items-center rounded-full border px-2.5 py-0.5 text-xs font-semibold transition-colors focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2",{variants:{variant:{default:"border-transparent bg-primary text-primary-foreground hover:bg-primary/80",secondary:"border-transparent bg-secondary text-secondary-foreground hover:bg-secondary/80",destructive:"border-transparent bg-destructive text-destructive-foreground hover:bg-destructive/80",outline:"text-foreground"}},defaultVariants:{variant:"default"}});function l({className:e,variant:a,...s}){return(0,r.jsx)("div",{className:(0,t.cn)(n({variant:a}),e),...s})}},2422:function(e,a,s){"use strict";s.d(a,{d:function(){return c},z:function(){return d}});var r=s(5444),i=s(9300),t=s(223),n=s(2371),l=s(5522);let c=(0,n.j)("inline-flex items-center justify-center whitespace-nowrap rounded-md text-sm font-medium ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50",{variants:{variant:{default:"bg-primary text-primary-foreground hover:bg-primary/90",destructive:"bg-destructive text-destructive-foreground hover:bg-destructive/90",outline:"border border-input bg-background hover:bg-accent hover:text-accent-foreground",secondary:"bg-secondary text-secondary-foreground hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-10 px-4 py-2",sm:"h-9 rounded-md px-3",lg:"h-11 rounded-md px-8",icon:"h-10 w-10"}},defaultVariants:{variant:"default",size:"default"}}),d=i.forwardRef(({className:e,variant:a,size:s,asChild:i=!1,...n},d)=>{let o=i?t.g7:"button";return(0,r.jsx)(o,{className:(0,l.cn)(c({variant:a,size:s,className:e})),ref:d,...n})});d.displayName="Button"},9827:function(e,a,s){"use strict";s.d(a,{Ol:function(){return l},SZ:function(){return d},Zb:function(){return n},aY:function(){return o},eW:function(){return m},ll:function(){return c}});var r=s(5444),i=s(9300),t=s(5522);let n=i.forwardRef(({className:e,...a},s)=>(0,r.jsx)("div",{ref:s,className:(0,t.cn)("rounded-lg border bg-card text-card-foreground shadow-sm",e),...a}));n.displayName="Card";let l=i.forwardRef(({className:e,...a},s)=>(0,r.jsx)("div",{ref:s,className:(0,t.cn)("flex flex-col space-y-1.5 p-6",e),...a}));l.displayName="CardHeader";let c=i.forwardRef(({className:e,...a},s)=>(0,r.jsx)("h3",{ref:s,className:(0,t.cn)("text-2xl font-semibold leading-none tracking-tight",e),...a}));c.displayName="CardTitle";let d=i.forwardRef(({className:e,...a},s)=>(0,r.jsx)("p",{ref:s,className:(0,t.cn)("text-sm text-muted-foreground",e),...a}));d.displayName="CardDescription";let o=i.forwardRef(({className:e,...a},s)=>(0,r.jsx)("div",{ref:s,className:(0,t.cn)("p-6 pt-0",e),...a}));o.displayName="CardContent";let m=i.forwardRef(({className:e,...a},s)=>(0,r.jsx)("div",{ref:s,className:(0,t.cn)("flex items-center p-6 pt-0",e),...a}));m.displayName="CardFooter"},4678:function(e,a,s){"use strict";s.d(a,{I:function(){return n}});var r=s(5444),i=s(9300),t=s(5522);let n=i.forwardRef(({className:e,type:a,...s},i)=>(0,r.jsx)("input",{type:a,className:(0,t.cn)("flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",e),ref:i,...s}));n.displayName="Input"},1489:function(e,a,s){"use strict";s.d(a,{x:function(){return l}});var r=s(5444),i=s(9300),t=s(4712),n=s(5522);let l=i.forwardRef(({className:e,children:a,...s},i)=>(0,r.jsxs)(t.fC,{ref:i,className:(0,n.cn)("relative overflow-hidden",e),...s,children:[(0,r.jsx)(t.l_,{className:"h-full w-full rounded-[inherit]",children:a}),(0,r.jsx)(c,{}),(0,r.jsx)(t.Ns,{})]}));l.displayName=t.fC.displayName;let c=i.forwardRef(({className:e,orientation:a="vertical",...s},i)=>(0,r.jsx)(t.gb,{ref:i,orientation:a,className:(0,n.cn)("flex touch-none select-none transition-colors","vertical"===a&&"h-full w-2.5 border-l border-l-transparent p-[1px]","horizontal"===a&&"h-2.5 flex-col border-t border-t-transparent p-[1px]",e),...s,children:(0,r.jsx)(t.q4,{className:"relative flex-1 rounded-full bg-border"})}));c.displayName=t.gb.displayName},5522:function(e,a,s){"use strict";s.d(a,{cn:function(){return t}});var r=s(2191),i=s(3607);function t(...e){return(0,i.m6)((0,r.W)(e))}}},function(e){e.O(0,[255,558,585,685,741,386,156,744],function(){return e(e.s=4617)}),_N_E=e.O()}]);