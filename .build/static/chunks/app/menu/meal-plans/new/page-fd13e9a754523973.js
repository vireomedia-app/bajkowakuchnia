(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[240],{4253:function(e,r,a){Promise.resolve().then(a.bind(a,659)),Promise.resolve().then(a.t.bind(a,5558,23))},659:function(e,r,a){"use strict";a.d(r,{MealPlanCreator:function(){return h}});var t=a(5444),s=a(9300),n=a(9047),i=a(2422),d=a(4678),o=a(4635),l=a(7012),c=a(489),u=a(9827),f=a(1585),m=a(4627);let p=(0,a(2154).Z)("LoaderCircle",[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]]);function h({standards:e}){let r=(0,n.useRouter)(),[a,h]=(0,s.useState)(!1),[x,g]=(0,s.useState)({name:"",weekNumber:"",season:"",description:"",standardsId:e[0]?.id||""}),y=async e=>{if(e.preventDefault(),!x.name.trim()){f.A.error("Podaj nazwę jadłospisu");return}h(!0);try{let e=await fetch("/api/meal-plans",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({name:x.name.trim(),weekNumber:x.weekNumber?parseInt(x.weekNumber):null,season:x.season||null,description:x.description.trim()||null,standardsId:x.standardsId||null})});if(!e.ok)throw Error("Failed to create meal plan");let a=await e.json();f.A.success("Jadłospis został utworzony"),r.push(`/menu/meal-plans/${a.id}`)}catch(e){console.error("Error creating meal plan:",e),f.A.error("Błąd podczas tworzenia jadłospisu")}finally{h(!1)}};return(0,t.jsxs)(u.Zb,{className:"max-w-2xl mx-auto",children:[(0,t.jsxs)(u.Ol,{children:[(0,t.jsxs)(u.ll,{className:"flex items-center gap-2",children:[(0,t.jsx)(m.Z,{className:"w-5 h-5"}),"Podstawowe informacje"]}),(0,t.jsx)(u.SZ,{children:"Wypełnij dane nowego jadłospisu tygodniowego"})]}),(0,t.jsx)(u.aY,{children:(0,t.jsxs)("form",{onSubmit:y,className:"space-y-6",children:[(0,t.jsxs)("div",{className:"space-y-4",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)(o._,{htmlFor:"name",children:"Nazwa jadłospisu *"}),(0,t.jsx)(d.I,{id:"name",value:x.name,onChange:e=>g({...x,name:e.target.value}),placeholder:"Np. Tydzień 4 - Wiosna/Lato",required:!0})]}),(0,t.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)(o._,{htmlFor:"weekNumber",children:"Numer tygodnia"}),(0,t.jsx)(d.I,{id:"weekNumber",type:"number",min:"1",max:"52",value:x.weekNumber,onChange:e=>g({...x,weekNumber:e.target.value}),placeholder:"1-52"})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)(o._,{htmlFor:"season",children:"Sezon"}),(0,t.jsxs)(c.Ph,{value:x.season,onValueChange:e=>g({...x,season:e}),children:[(0,t.jsx)(c.i4,{children:(0,t.jsx)(c.ki,{placeholder:"Wybierz sezon"})}),(0,t.jsxs)(c.Bw,{children:[(0,t.jsx)(c.Ql,{value:"SPRING",children:"Wiosna"}),(0,t.jsx)(c.Ql,{value:"SUMMER",children:"Lato"}),(0,t.jsx)(c.Ql,{value:"AUTUMN",children:"Jesień"}),(0,t.jsx)(c.Ql,{value:"WINTER",children:"Zima"})]})]})]})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)(o._,{htmlFor:"description",children:"Opis (opcjonalnie)"}),(0,t.jsx)(l.g,{id:"description",value:x.description,onChange:e=>g({...x,description:e.target.value}),placeholder:"Dodatkowe informacje o jadłospisie",rows:3})]}),e.length>0&&(0,t.jsxs)("div",{children:[(0,t.jsx)(o._,{htmlFor:"standards",children:"Normy żywieniowe"}),(0,t.jsxs)(c.Ph,{value:x.standardsId,onValueChange:e=>g({...x,standardsId:e}),children:[(0,t.jsx)(c.i4,{children:(0,t.jsx)(c.ki,{placeholder:"Wybierz normy"})}),(0,t.jsx)(c.Bw,{children:e.map(e=>(0,t.jsx)(c.Ql,{value:e.id,children:e.name},e.id))})]})]})]}),(0,t.jsxs)("div",{className:"flex justify-end gap-3",children:[(0,t.jsx)(i.z,{type:"button",variant:"outline",onClick:()=>r.back(),disabled:a,children:"Anuluj"}),(0,t.jsxs)(i.z,{type:"submit",disabled:a,children:[a&&(0,t.jsx)(p,{className:"w-4 h-4 mr-2 animate-spin"}),"Utw\xf3rz jadłospis"]})]})]})})]})}},2422:function(e,r,a){"use strict";a.d(r,{d:function(){return o},z:function(){return l}});var t=a(5444),s=a(9300),n=a(223),i=a(2371),d=a(5522);let o=(0,i.j)("inline-flex items-center justify-center whitespace-nowrap rounded-md text-sm font-medium ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50",{variants:{variant:{default:"bg-primary text-primary-foreground hover:bg-primary/90",destructive:"bg-destructive text-destructive-foreground hover:bg-destructive/90",outline:"border border-input bg-background hover:bg-accent hover:text-accent-foreground",secondary:"bg-secondary text-secondary-foreground hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-10 px-4 py-2",sm:"h-9 rounded-md px-3",lg:"h-11 rounded-md px-8",icon:"h-10 w-10"}},defaultVariants:{variant:"default",size:"default"}}),l=s.forwardRef(({className:e,variant:r,size:a,asChild:s=!1,...i},l)=>{let c=s?n.g7:"button";return(0,t.jsx)(c,{className:(0,d.cn)(o({variant:r,size:a,className:e})),ref:l,...i})});l.displayName="Button"},9827:function(e,r,a){"use strict";a.d(r,{Ol:function(){return d},SZ:function(){return l},Zb:function(){return i},aY:function(){return c},eW:function(){return u},ll:function(){return o}});var t=a(5444),s=a(9300),n=a(5522);let i=s.forwardRef(({className:e,...r},a)=>(0,t.jsx)("div",{ref:a,className:(0,n.cn)("rounded-lg border bg-card text-card-foreground shadow-sm",e),...r}));i.displayName="Card";let d=s.forwardRef(({className:e,...r},a)=>(0,t.jsx)("div",{ref:a,className:(0,n.cn)("flex flex-col space-y-1.5 p-6",e),...r}));d.displayName="CardHeader";let o=s.forwardRef(({className:e,...r},a)=>(0,t.jsx)("h3",{ref:a,className:(0,n.cn)("text-2xl font-semibold leading-none tracking-tight",e),...r}));o.displayName="CardTitle";let l=s.forwardRef(({className:e,...r},a)=>(0,t.jsx)("p",{ref:a,className:(0,n.cn)("text-sm text-muted-foreground",e),...r}));l.displayName="CardDescription";let c=s.forwardRef(({className:e,...r},a)=>(0,t.jsx)("div",{ref:a,className:(0,n.cn)("p-6 pt-0",e),...r}));c.displayName="CardContent";let u=s.forwardRef(({className:e,...r},a)=>(0,t.jsx)("div",{ref:a,className:(0,n.cn)("flex items-center p-6 pt-0",e),...r}));u.displayName="CardFooter"},4678:function(e,r,a){"use strict";a.d(r,{I:function(){return i}});var t=a(5444),s=a(9300),n=a(5522);let i=s.forwardRef(({className:e,type:r,...a},s)=>(0,t.jsx)("input",{type:r,className:(0,n.cn)("flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",e),ref:s,...a}));i.displayName="Input"},4635:function(e,r,a){"use strict";a.d(r,{_:function(){return l}});var t=a(5444),s=a(9300),n=a(4100),i=a(2371),d=a(5522);let o=(0,i.j)("text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70"),l=s.forwardRef(({className:e,...r},a)=>(0,t.jsx)(n.f,{ref:a,className:(0,d.cn)(o(),e),...r}));l.displayName=n.f.displayName},489:function(e,r,a){"use strict";a.d(r,{Bw:function(){return h},Ph:function(){return c},Ql:function(){return x},i4:function(){return f},ki:function(){return u}});var t=a(5444),s=a(9300),n=a(8913),i=a(3751),d=a(6997),o=a(7248),l=a(5522);let c=n.fC;n.ZA;let u=n.B4,f=s.forwardRef(({className:e,children:r,...a},s)=>(0,t.jsxs)(n.xz,{ref:s,className:(0,l.cn)("flex h-10 w-full items-center justify-between rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background placeholder:text-muted-foreground focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 [&>span]:line-clamp-1",e),...a,children:[r,(0,t.jsx)(n.JO,{asChild:!0,children:(0,t.jsx)(i.Z,{className:"h-4 w-4 opacity-50"})})]}));f.displayName=n.xz.displayName;let m=s.forwardRef(({className:e,...r},a)=>(0,t.jsx)(n.u_,{ref:a,className:(0,l.cn)("flex cursor-default items-center justify-center py-1",e),...r,children:(0,t.jsx)(d.Z,{className:"h-4 w-4"})}));m.displayName=n.u_.displayName;let p=s.forwardRef(({className:e,...r},a)=>(0,t.jsx)(n.$G,{ref:a,className:(0,l.cn)("flex cursor-default items-center justify-center py-1",e),...r,children:(0,t.jsx)(i.Z,{className:"h-4 w-4"})}));p.displayName=n.$G.displayName;let h=s.forwardRef(({className:e,children:r,position:a="popper",...s},i)=>(0,t.jsx)(n.h_,{children:(0,t.jsxs)(n.VY,{ref:i,className:(0,l.cn)("relative z-50 max-h-96 min-w-[8rem] overflow-hidden rounded-md border bg-popover text-popover-foreground shadow-md data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2","popper"===a&&"data-[side=bottom]:translate-y-1 data-[side=left]:-translate-x-1 data-[side=right]:translate-x-1 data-[side=top]:-translate-y-1",e),position:a,...s,children:[(0,t.jsx)(m,{}),(0,t.jsx)(n.l_,{className:(0,l.cn)("p-1","popper"===a&&"h-[var(--radix-select-trigger-height)] w-full min-w-[var(--radix-select-trigger-width)]"),children:r}),(0,t.jsx)(p,{})]})}));h.displayName=n.VY.displayName,s.forwardRef(({className:e,...r},a)=>(0,t.jsx)(n.__,{ref:a,className:(0,l.cn)("py-1.5 pl-8 pr-2 text-sm font-semibold",e),...r})).displayName=n.__.displayName;let x=s.forwardRef(({className:e,children:r,...a},s)=>(0,t.jsxs)(n.ck,{ref:s,className:(0,l.cn)("relative flex w-full cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",e),...a,children:[(0,t.jsx)("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:(0,t.jsx)(n.wU,{children:(0,t.jsx)(o.Z,{className:"h-4 w-4"})})}),(0,t.jsx)(n.eT,{children:r})]}));x.displayName=n.ck.displayName,s.forwardRef(({className:e,...r},a)=>(0,t.jsx)(n.Z0,{ref:a,className:(0,l.cn)("-mx-1 my-1 h-px bg-muted",e),...r})).displayName=n.Z0.displayName},7012:function(e,r,a){"use strict";a.d(r,{g:function(){return i}});var t=a(5444),s=a(9300),n=a(5522);let i=s.forwardRef(({className:e,...r},a)=>(0,t.jsx)("textarea",{className:(0,n.cn)("flex min-h-[80px] w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",e),ref:a,...r}));i.displayName="Textarea"},5522:function(e,r,a){"use strict";a.d(r,{cn:function(){return n}});var t=a(2191),s=a(3607);function n(...e){return(0,s.m6)((0,t.W)(e))}},4627:function(e,r,a){"use strict";a.d(r,{Z:function(){return t}});let t=(0,a(2154).Z)("CalendarDays",[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}],["path",{d:"M8 14h.01",key:"6423bh"}],["path",{d:"M12 14h.01",key:"1etili"}],["path",{d:"M16 14h.01",key:"1gbofw"}],["path",{d:"M8 18h.01",key:"lrp35t"}],["path",{d:"M12 18h.01",key:"mhygvu"}],["path",{d:"M16 18h.01",key:"kzsmim"}]])}},function(e){e.O(0,[255,558,585,687,525,386,156,744],function(){return e(e.s=4253)}),_N_E=e.O()}]);