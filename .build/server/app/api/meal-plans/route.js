"use strict";(()=>{var e={};e.id=7814,e.ids=[7814],e.modules={53524:e=>{e.exports=require("@prisma/client")},20399:e=>{e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},30517:e=>{e.exports=require("next/dist/compiled/next-server/app-route.runtime.prod.js")},92805:(e,r,a)=>{a.r(r),a.d(r,{originalPathname:()=>x,patchFetch:()=>h,requestAsyncStorage:()=>u,routeModule:()=>c,serverHooks:()=>y,staticGenerationAsyncStorage:()=>m});var t={};a.r(t),a.d(t,{GET:()=>p,POST:()=>l});var s=a(79182),n=a(72007),o=a(56719),d=a(93442),i=a(83178);async function p(){try{let e=await i._.mealPlan.findMany({include:{standards:!0,days:{include:{meals:{include:{recipes:{include:{recipe:{include:{ingredients:{include:{product:!0}}}}}}},orderBy:{order:"asc"}}},orderBy:{dayOfWeek:"asc"}}},orderBy:{createdAt:"desc"}});return d.NextResponse.json(e)}catch(e){return console.error("Error fetching meal plans:",e),d.NextResponse.json({error:"Błąd podczas pobierania jadłospis\xf3w"},{status:500})}}async function l(e){try{let r=await e.json(),a=await i._.mealPlan.create({data:{name:r.name,weekNumber:r.weekNumber,season:r.season,description:r.description,standardsId:r.standardsId,days:{create:[1,2,3,4,5].map(e=>({dayOfWeek:e,meals:{create:[{mealType:"BREAKFAST",order:1},{mealType:"SECOND_BREAKFAST",order:2},{mealType:"LUNCH",order:3},{mealType:"FIRST_SNACK",order:4},{mealType:"SECOND_SNACK",order:5}]}}))}},include:{standards:!0,days:{include:{meals:{include:{recipes:{include:{recipe:!0}}},orderBy:{order:"asc"}}},orderBy:{dayOfWeek:"asc"}}}});return d.NextResponse.json(a)}catch(e){return console.error("Error creating meal plan:",e),d.NextResponse.json({error:"Błąd podczas tworzenia jadłospisu"},{status:500})}}let c=new s.AppRouteRouteModule({definition:{kind:n.x.APP_ROUTE,page:"/api/meal-plans/route",pathname:"/api/meal-plans",filename:"route",bundlePath:"app/api/meal-plans/route"},resolvedPagePath:"/home/ubuntu/kartoteka_magazynowa_app/nextjs_space/app/api/meal-plans/route.ts",nextConfigOutput:"",userland:t}),{requestAsyncStorage:u,staticGenerationAsyncStorage:m,serverHooks:y}=c,x="/api/meal-plans/route";function h(){return(0,o.patchFetch)({serverHooks:y,staticGenerationAsyncStorage:m})}},83178:(e,r,a)=>{a.d(r,{_:()=>s});var t=a(53524);let s=globalThis.prisma??new t.PrismaClient}};var r=require("../../../webpack-runtime.js");r.C(e);var a=e=>r(r.s=e),t=r.X(0,[4372,7609],()=>a(92805));module.exports=t})();