"use strict";(()=>{var e={};e.id=2846,e.ids=[2846],e.modules={53524:e=>{e.exports=require("@prisma/client")},20399:e=>{e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},30517:e=>{e.exports=require("next/dist/compiled/next-server/app-route.runtime.prod.js")},52196:(e,r,a)=>{a.r(r),a.d(r,{originalPathname:()=>h,patchFetch:()=>j,requestAsyncStorage:()=>m,routeModule:()=>c,serverHooks:()=>x,staticGenerationAsyncStorage:()=>y});var s={};a.r(s),a.d(s,{DELETE:()=>l,GET:()=>u,PUT:()=>p});var n=a(79182),t=a(72007),o=a(56719),i=a(93442),d=a(83178);async function u(e,{params:r}){try{let e=await d._.mealPlan.findUnique({where:{id:r.id},include:{standards:!0,days:{include:{meals:{include:{recipes:{include:{recipe:{include:{ingredients:{include:{product:!0}}}}},orderBy:{order:"asc"}}},orderBy:{order:"asc"}}},orderBy:{dayOfWeek:"asc"}}}});if(!e)return i.NextResponse.json({error:"Jadłospis nie został znaleziony"},{status:404});return i.NextResponse.json(e)}catch(e){return console.error("Error fetching meal plan:",e),i.NextResponse.json({error:"Błąd podczas pobierania jadłospisu"},{status:500})}}async function p(e,{params:r}){try{let a=await e.json(),s=await d._.mealPlan.update({where:{id:r.id},data:{name:a.name,weekNumber:a.weekNumber,season:a.season,description:a.description,standardsId:a.standardsId},include:{standards:!0,days:{include:{meals:{include:{recipes:{include:{recipe:!0},orderBy:{order:"asc"}}},orderBy:{order:"asc"}}},orderBy:{dayOfWeek:"asc"}}}});return i.NextResponse.json(s)}catch(e){return console.error("Error updating meal plan:",e),i.NextResponse.json({error:"Błąd podczas aktualizacji jadłospisu"},{status:500})}}async function l(e,{params:r}){try{return await d._.mealPlan.delete({where:{id:r.id}}),i.NextResponse.json({message:"Jadłospis został usunięty"})}catch(e){return console.error("Error deleting meal plan:",e),i.NextResponse.json({error:"Błąd podczas usuwania jadłospisu"},{status:500})}}let c=new n.AppRouteRouteModule({definition:{kind:t.x.APP_ROUTE,page:"/api/meal-plans/[id]/route",pathname:"/api/meal-plans/[id]",filename:"route",bundlePath:"app/api/meal-plans/[id]/route"},resolvedPagePath:"/home/ubuntu/kartoteka_magazynowa_app/nextjs_space/app/api/meal-plans/[id]/route.ts",nextConfigOutput:"",userland:s}),{requestAsyncStorage:m,staticGenerationAsyncStorage:y,serverHooks:x}=c,h="/api/meal-plans/[id]/route";function j(){return(0,o.patchFetch)({serverHooks:x,staticGenerationAsyncStorage:y})}},83178:(e,r,a)=>{a.d(r,{_:()=>n});var s=a(53524);let n=globalThis.prisma??new s.PrismaClient}};var r=require("../../../../webpack-runtime.js");r.C(e);var a=e=>r(r.s=e),s=r.X(0,[4372,7609],()=>a(52196));module.exports=s})();