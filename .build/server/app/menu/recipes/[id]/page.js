(()=>{var e={};e.id=6326,e.ids=[6326],e.modules={53524:e=>{"use strict";e.exports=require("@prisma/client")},72934:e=>{"use strict";e.exports=require("next/dist/client/components/action-async-storage.external.js")},54580:e=>{"use strict";e.exports=require("next/dist/client/components/request-async-storage.external.js")},45869:e=>{"use strict";e.exports=require("next/dist/client/components/static-generation-async-storage.external.js")},20399:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},89035:(e,t,r)=>{"use strict";r.r(t),r.d(t,{GlobalError:()=>i.a,__next_app__:()=>m,originalPathname:()=>u,pages:()=>c,routeModule:()=>p,tree:()=>l}),r(41112),r(61262),r(71363);var a=r(36576),s=r(72007),n=r(21818),i=r.n(n),d=r(88897),o={};for(let e in d)0>["default","tree","pages","GlobalError","originalPathname","__next_app__","routeModule"].indexOf(e)&&(o[e]=()=>d[e]);r.d(t,o);let l=["",{children:["menu",{children:["recipes",{children:["[id]",{children:["__PAGE__",{},{page:[()=>Promise.resolve().then(r.bind(r,41112)),"/home/ubuntu/kartoteka_magazynowa_app/nextjs_space/app/menu/recipes/[id]/page.tsx"]}]},{}]},{}]},{}]},{layout:[()=>Promise.resolve().then(r.bind(r,61262)),"/home/ubuntu/kartoteka_magazynowa_app/nextjs_space/app/layout.tsx"],"not-found":[()=>Promise.resolve().then(r.t.bind(r,71363,23)),"next/dist/client/components/not-found-error"]}],c=["/home/ubuntu/kartoteka_magazynowa_app/nextjs_space/app/menu/recipes/[id]/page.tsx"],u="/menu/recipes/[id]/page",m={require:r,loadChunk:()=>Promise.resolve()},p=new a.AppPageRouteModule({definition:{kind:s.x.APP_PAGE,page:"/menu/recipes/[id]/page",pathname:"/menu/recipes/[id]",bundlePath:"",filename:"",appPaths:[]},userland:{loaderTree:l}})},9124:(e,t,r)=>{Promise.resolve().then(r.t.bind(r,95003,23)),Promise.resolve().then(r.bind(r,43921))},9519:(e,t,r)=>{Promise.resolve().then(r.bind(r,11535)),Promise.resolve().then(r.bind(r,68794)),Promise.resolve().then(r.t.bind(r,95003,23))},87133:(e,t,r)=>{Promise.resolve().then(r.t.bind(r,84114,23)),Promise.resolve().then(r.t.bind(r,28866,23)),Promise.resolve().then(r.t.bind(r,31324,23)),Promise.resolve().then(r.t.bind(r,83567,23)),Promise.resolve().then(r.t.bind(r,55996,23)),Promise.resolve().then(r.t.bind(r,10050,23))},11535:(e,t,r)=>{"use strict";r.d(t,{DeleteRecipeButton:()=>c});var a=r(62901),s=r(24383),n=r(84374),i=r(45874),d=r(14573),o=r(71028),l=r(43921);function c({recipeId:e,recipeName:t}){let r=(0,n.useRouter)(),[c,u]=(0,s.useState)(!1),m=async()=>{u(!0);try{if(!(await fetch(`/api/recipes/${e}`,{method:"DELETE"})).ok)throw Error("Failed to delete recipe");l.A.success("Receptura została usunięta"),r.push("/menu/recipes"),r.refresh()}catch(e){l.A.error("Błąd podczas usuwania receptury"),console.error(e)}finally{u(!1)}};return(0,a.jsxs)(d.aR,{children:[a.jsx(d.vW,{asChild:!0,children:(0,a.jsxs)(i.z,{variant:"destructive",className:"gap-2",children:[a.jsx(o.Z,{className:"w-4 h-4"}),"Usuń recepturę"]})}),(0,a.jsxs)(d._T,{children:[(0,a.jsxs)(d.fY,{children:[a.jsx(d.f$,{children:"Czy na pewno chcesz usunąć tę recepturę?"}),(0,a.jsxs)(d.yT,{className:"space-y-2",children:[(0,a.jsxs)("p",{children:["Ta akcja jest nieodwracalna. Receptura ",(0,a.jsxs)("strong",{children:['"',t,'"']})," zostanie trwale usunięta z systemu."]}),a.jsx("p",{className:"text-amber-600 font-medium",children:"⚠️ Usunięcie receptury wpłynie na wszystkie jadłospisy, w kt\xf3rych jest ona wykorzystana."})]})]}),(0,a.jsxs)(d.xo,{children:[a.jsx(d.le,{disabled:c,children:"Anuluj"}),a.jsx(d.OL,{onClick:m,disabled:c,className:"bg-red-600 hover:bg-red-700",children:c?"Usuwanie...":"Tak, usuń recepturę"})]})]})]})}},68794:(e,t,r)=>{"use strict";r.d(t,{EditRecipeButton:()=>l});var a=r(62901),s=r(24383),n=r(84374),i=r(45874),d=r(14573),o=r(57234);function l({recipeId:e}){let t=(0,n.useRouter)(),[r,l]=(0,s.useState)(!1);return(0,a.jsxs)(a.Fragment,{children:[(0,a.jsxs)(i.z,{variant:"outline",className:"gap-2 border-orange-300 text-orange-700 hover:bg-orange-50",onClick:()=>{l(!0)},children:[a.jsx(o.Z,{className:"w-4 h-4"}),"Edytuj recepturę"]}),a.jsx(d.aR,{open:r,onOpenChange:l,children:(0,a.jsxs)(d._T,{children:[(0,a.jsxs)(d.fY,{children:[a.jsx(d.f$,{children:"Edycja receptury"}),(0,a.jsxs)(d.yT,{className:"space-y-2",children:[a.jsx("p",{children:"Edycja receptury wpłynie na:"}),(0,a.jsxs)("ul",{className:"list-disc list-inside space-y-1 text-amber-600 font-medium",children:[a.jsx("li",{children:"Wszystkie jadłospisy wykorzystujące tę recepturę"}),a.jsx("li",{children:"Wartości odżywcze obliczane na podstawie tej receptury"}),a.jsx("li",{children:"Wyliczenia koszt\xf3w i stan\xf3w magazynowych"}),a.jsx("li",{children:"Wszystkie eksportowane raporty i zestawienia"})]}),a.jsx("p",{className:"mt-3",children:"Czy na pewno chcesz kontynuować?"})]})]}),(0,a.jsxs)(d.xo,{children:[a.jsx(d.le,{children:"Anuluj"}),a.jsx(d.OL,{onClick:()=>{l(!1),t.push(`/menu/recipes/${e}/edit`)},className:"bg-orange-600 hover:bg-orange-700",children:"Rozumiem, edytuj"})]})]})})]})}},14573:(e,t,r)=>{"use strict";r.d(t,{OL:()=>f,_T:()=>m,aR:()=>o,f$:()=>g,fY:()=>p,le:()=>y,vW:()=>l,xo:()=>x,yT:()=>h});var a=r(62901),s=r(24383),n=r(13443),i=r(68637),d=r(45874);let o=n.fC,l=n.xz,c=n.h_,u=s.forwardRef(({className:e,...t},r)=>a.jsx(n.aV,{className:(0,i.cn)("fixed inset-0 z-50 bg-black/80  data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",e),...t,ref:r}));u.displayName=n.aV.displayName;let m=s.forwardRef(({className:e,...t},r)=>(0,a.jsxs)(c,{children:[a.jsx(u,{}),a.jsx(n.VY,{ref:r,className:(0,i.cn)("fixed left-[50%] top-[50%] z-50 grid w-full max-w-lg translate-x-[-50%] translate-y-[-50%] gap-4 border bg-background p-6 shadow-lg duration-200 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[state=closed]:slide-out-to-left-1/2 data-[state=closed]:slide-out-to-top-[48%] data-[state=open]:slide-in-from-left-1/2 data-[state=open]:slide-in-from-top-[48%] sm:rounded-lg",e),...t})]}));m.displayName=n.VY.displayName;let p=({className:e,...t})=>a.jsx("div",{className:(0,i.cn)("flex flex-col space-y-2 text-center sm:text-left",e),...t});p.displayName="AlertDialogHeader";let x=({className:e,...t})=>a.jsx("div",{className:(0,i.cn)("flex flex-col-reverse sm:flex-row sm:justify-end sm:space-x-2",e),...t});x.displayName="AlertDialogFooter";let g=s.forwardRef(({className:e,...t},r)=>a.jsx(n.Dx,{ref:r,className:(0,i.cn)("text-lg font-semibold",e),...t}));g.displayName=n.Dx.displayName;let h=s.forwardRef(({className:e,...t},r)=>a.jsx(n.dk,{ref:r,className:(0,i.cn)("text-sm text-muted-foreground",e),...t}));h.displayName=n.dk.displayName;let f=s.forwardRef(({className:e,...t},r)=>a.jsx(n.aU,{ref:r,className:(0,i.cn)((0,d.d)(),e),...t}));f.displayName=n.aU.displayName;let y=s.forwardRef(({className:e,...t},r)=>a.jsx(n.$j,{ref:r,className:(0,i.cn)((0,d.d)({variant:"outline"}),"mt-2 sm:mt-0",e),...t}));y.displayName=n.$j.displayName},45874:(e,t,r)=>{"use strict";r.d(t,{d:()=>o,z:()=>l});var a=r(62901),s=r(24383),n=r(42049),i=r(47279),d=r(68637);let o=(0,i.j)("inline-flex items-center justify-center whitespace-nowrap rounded-md text-sm font-medium ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50",{variants:{variant:{default:"bg-primary text-primary-foreground hover:bg-primary/90",destructive:"bg-destructive text-destructive-foreground hover:bg-destructive/90",outline:"border border-input bg-background hover:bg-accent hover:text-accent-foreground",secondary:"bg-secondary text-secondary-foreground hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-10 px-4 py-2",sm:"h-9 rounded-md px-3",lg:"h-11 rounded-md px-8",icon:"h-10 w-10"}},defaultVariants:{variant:"default",size:"default"}}),l=s.forwardRef(({className:e,variant:t,size:r,asChild:s=!1,...i},l)=>{let c=s?n.g7:"button";return a.jsx(c,{className:(0,d.cn)(o({variant:t,size:r,className:e})),ref:l,...i})});l.displayName="Button"},68637:(e,t,r)=>{"use strict";r.d(t,{cn:()=>n});var a=r(84330),s=r(77189);function n(...e){return(0,s.m6)((0,a.W)(e))}},57234:(e,t,r)=>{"use strict";r.d(t,{Z:()=>a});let a=(0,r(71945).Z)("SquarePen",[["path",{d:"M12 3H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7",key:"1m0v6g"}],["path",{d:"M18.375 2.625a1 1 0 0 1 3 3l-9.013 9.014a2 2 0 0 1-.853.505l-2.873.84a.5.5 0 0 1-.62-.62l.84-2.873a2 2 0 0 1 .506-.852z",key:"ohrbg2"}]])},71028:(e,t,r)=>{"use strict";r.d(t,{Z:()=>a});let a=(0,r(71945).Z)("Trash2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]])},61262:(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>o,dynamic:()=>i,metadata:()=>d});var a=r(83537);r(26148);var s=r(37309),n=r(85168);let i="force-dynamic",d={title:"System zarządzania kuchnią i magazynem - W małej kuchni",description:"System zarządzania kuchnią i magazynem dla firmy W małej kuchni",metadataBase:new URL(process.env.NEXTAUTH_URL||"http://localhost:3000"),icons:{icon:"/favicon.svg",shortcut:"/favicon.svg"},openGraph:{title:"System zarządzania kuchnią i magazynem - W małej kuchni",description:"System zarządzania kuchnią i magazynem",images:["/og-image.png"]}};function o({children:e}){return a.jsx("html",{lang:"pl",children:(0,a.jsxs)("body",{className:"antialiased bg-gradient-to-br from-blue-50 via-white to-gray-50 min-h-screen",children:[a.jsx("header",{className:"sticky top-0 z-50 border-b bg-white/80 backdrop-blur-sm shadow-sm",children:a.jsx("div",{className:"container mx-auto max-w-6xl px-4 py-4",children:a.jsx("div",{className:"flex items-center justify-between",children:(0,a.jsxs)(n.default,{href:"/",className:"flex items-center space-x-3 hover:opacity-80 transition-opacity",children:[a.jsx("div",{className:"h-8 w-8 rounded-lg bg-gradient-to-br from-blue-600 to-blue-700 flex items-center justify-center",children:a.jsx("span",{className:"text-white font-bold text-sm",children:"WMK"})}),(0,a.jsxs)("div",{children:[a.jsx("h1",{className:"text-lg font-bold text-gray-900",children:"System zarządzania"}),a.jsx("p",{className:"text-sm text-gray-600",children:"kuchnią i magazynem"})]})]})})})}),a.jsx("main",{className:"container mx-auto max-w-6xl px-4 py-8",children:e}),a.jsx("footer",{className:"border-t bg-white/50 backdrop-blur-sm mt-12",children:a.jsx("div",{className:"container mx-auto max-w-6xl px-4 py-4",children:(0,a.jsxs)("div",{className:"text-center text-sm text-gray-600",children:[a.jsx("p",{children:"System zarządzania kuchnią i magazynem - W małej kuchni"}),(0,a.jsxs)("p",{className:"mt-1 text-xs text-gray-500",children:["Wersja ","v2.1"]})]})})}),a.jsx(s.x7,{position:"top-right",expand:!1,richColors:!0,closeButton:!0})]})})}},41112:(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>_,dynamic:()=>z});var a=r(83537),s=r(85168),n=r(81331),i=r(42662),d=r(62301),o=r(89004);let l=(0,o.Z)("CircleAlert",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]]),c=(0,o.Z)("Plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]]);var u=r(15438),m=r(3995),p=r(53290),x=r(64761);let g=(0,p.j)("inline-flex items-center rounded-full border px-2.5 py-0.5 text-xs font-semibold transition-colors focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2",{variants:{variant:{default:"border-transparent bg-primary text-primary-foreground hover:bg-primary/80",secondary:"border-transparent bg-secondary text-secondary-foreground hover:bg-secondary/80",destructive:"border-transparent bg-destructive text-destructive-foreground hover:bg-destructive/80",outline:"text-foreground"}},defaultVariants:{variant:"default"}});function h({className:e,variant:t,...r}){return a.jsx("div",{className:(0,x.cn)(g({variant:t}),e),...r})}let f=(0,p.j)("relative w-full rounded-lg border p-4 [&>svg~*]:pl-7 [&>svg+div]:translate-y-[-3px] [&>svg]:absolute [&>svg]:left-4 [&>svg]:top-4 [&>svg]:text-foreground",{variants:{variant:{default:"bg-background text-foreground",destructive:"border-destructive/50 text-destructive dark:border-destructive [&>svg]:text-destructive"}},defaultVariants:{variant:"default"}}),y=m.forwardRef(({className:e,variant:t,...r},s)=>a.jsx("div",{ref:s,role:"alert",className:(0,x.cn)(f({variant:t}),e),...r}));y.displayName="Alert",m.forwardRef(({className:e,...t},r)=>a.jsx("h5",{ref:r,className:(0,x.cn)("mb-1 font-medium leading-none tracking-tight",e),...t})).displayName="AlertTitle";let v=m.forwardRef(({className:e,...t},r)=>a.jsx("div",{ref:r,className:(0,x.cn)("text-sm [&_p]:leading-relaxed",e),...t}));v.displayName="AlertDescription";var j=r(88895);let b=(0,j.createProxy)(String.raw`/home/ubuntu/kartoteka_magazynowa_app/nextjs_space/components/delete-recipe-button.tsx#DeleteRecipeButton`),N=(0,j.createProxy)(String.raw`/home/ubuntu/kartoteka_magazynowa_app/nextjs_space/components/edit-recipe-button.tsx#EditRecipeButton`);var w=r(81526),k=r(83178);let z="force-dynamic";async function R(e){try{let t=await k._.recipe.findUnique({where:{id:e},include:{ingredients:{include:{product:!0}}}});if(!t)return null;let r={calories:0,protein:0,fat:0,saturatedFat:0,carbohydrates:0,sugars:0,salt:0,calcium:0,iron:0,vitaminC:0};return t.ingredients.forEach(e=>{if(e.product){let t=e.quantity/100;r.calories+=(e.product.calories||0)*t,r.protein+=(e.product.protein||0)*t,r.fat+=(e.product.fat||0)*t,r.saturatedFat+=(e.product.saturatedFat||0)*t,r.carbohydrates+=(e.product.carbohydrates||0)*t,r.sugars+=(e.product.sugars||0)*t,r.salt+=(e.product.salt||0)*t,r.calcium+=(e.product.calcium||0)*t,r.iron+=(e.product.iron||0)*t,r.vitaminC+=(e.product.vitaminC||0)*t}}),{...t,nutrition:r}}catch(e){return console.error("Error fetching recipe:",e),null}}async function _({params:e}){let t=await R(e.id);t||(0,u.notFound)();let r=t.ingredients.filter(e=>!e.productId),o=new Set;t.ingredients.forEach(e=>{e.product?.allergens&&e.product.allergens.forEach(e=>o.add(e))});let m=Array.from(o).sort((e,t)=>e-t);return(0,a.jsxs)("div",{className:"space-y-8",children:[a.jsx(s.default,{href:"/menu/recipes",children:(0,a.jsxs)(n.z,{variant:"ghost",className:"gap-2",children:[a.jsx(i.Z,{className:"w-4 h-4"}),"Powr\xf3t do listy receptur"]})}),(0,a.jsxs)("div",{className:"bg-white rounded-lg shadow-md border border-gray-100 overflow-hidden",children:[a.jsx("div",{className:"bg-gradient-to-r from-orange-600 to-orange-700 px-6 py-8 text-white",children:(0,a.jsxs)("div",{className:"flex items-center justify-between",children:[(0,a.jsxs)("div",{className:"flex items-center space-x-4 flex-1",children:[a.jsx("div",{className:"p-4 bg-white/20 rounded-lg flex-shrink-0",children:a.jsx(d.Z,{className:"w-8 h-8"})}),(0,a.jsxs)("div",{className:"flex-1",children:[a.jsx("h1",{className:"text-3xl font-bold",children:t.name}),t.description&&a.jsx("p",{className:"text-orange-100 mt-2",children:t.description}),(0,a.jsxs)("p",{className:"text-orange-100 mt-2",children:["Porcje: ",t.servings]})]})]}),(0,a.jsxs)("div",{className:"flex gap-2",children:[a.jsx(N,{recipeId:t.id}),a.jsx(b,{recipeId:t.id,recipeName:t.name})]})]})}),a.jsx("div",{className:"p-6 space-y-6",children:(0,a.jsxs)("div",{children:[a.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Wartości odżywcze na 1 porcję"}),(0,a.jsxs)("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4",children:[(0,a.jsxs)("div",{className:"bg-red-50 rounded-lg p-3",children:[a.jsx("div",{className:"text-sm text-gray-600",children:"Kalorie"}),(0,a.jsxs)("div",{className:"text-xl font-bold text-gray-900",children:[Math.round(t.nutrition.calories/t.servings)," kcal"]})]}),(0,a.jsxs)("div",{className:"bg-blue-50 rounded-lg p-3",children:[a.jsx("div",{className:"text-sm text-gray-600",children:"Białko"}),(0,a.jsxs)("div",{className:"text-xl font-bold text-gray-900",children:[(t.nutrition.protein/t.servings).toFixed(1)," g"]})]}),(0,a.jsxs)("div",{className:"bg-yellow-50 rounded-lg p-3",children:[a.jsx("div",{className:"text-sm text-gray-600",children:"Tłuszcz"}),(0,a.jsxs)("div",{className:"text-xl font-bold text-gray-900",children:[(t.nutrition.fat/t.servings).toFixed(1)," g"]})]}),(0,a.jsxs)("div",{className:"bg-yellow-100 rounded-lg p-3",children:[a.jsx("div",{className:"text-sm text-gray-600",children:"w tym nasycone"}),(0,a.jsxs)("div",{className:"text-lg font-bold text-gray-900",children:[(t.nutrition.saturatedFat/t.servings).toFixed(1)," g"]})]}),(0,a.jsxs)("div",{className:"bg-amber-50 rounded-lg p-3",children:[a.jsx("div",{className:"text-sm text-gray-600",children:"Węglowodany"}),(0,a.jsxs)("div",{className:"text-xl font-bold text-gray-900",children:[(t.nutrition.carbohydrates/t.servings).toFixed(1)," g"]})]}),(0,a.jsxs)("div",{className:"bg-amber-100 rounded-lg p-3",children:[a.jsx("div",{className:"text-sm text-gray-600",children:"w tym cukry"}),(0,a.jsxs)("div",{className:"text-lg font-bold text-gray-900",children:[(t.nutrition.sugars/t.servings).toFixed(1)," g"]})]}),(0,a.jsxs)("div",{className:"bg-gray-50 rounded-lg p-3",children:[a.jsx("div",{className:"text-sm text-gray-600",children:"S\xf3l"}),(0,a.jsxs)("div",{className:"text-xl font-bold text-gray-900",children:[(t.nutrition.salt/t.servings).toFixed(1)," g"]})]})]}),(t.nutrition.calcium>0||t.nutrition.iron>0||t.nutrition.vitaminC>0)&&(0,a.jsxs)("div",{className:"mt-6",children:[a.jsx("h4",{className:"text-sm font-semibold text-gray-700 mb-3",children:"Witaminy i minerały"}),(0,a.jsxs)("div",{className:"grid grid-cols-3 gap-4",children:[t.nutrition.calcium>0&&(0,a.jsxs)("div",{className:"bg-purple-50 rounded-lg p-3",children:[a.jsx("div",{className:"text-sm text-gray-600",children:"Wapń"}),(0,a.jsxs)("div",{className:"text-lg font-semibold text-gray-900",children:[(t.nutrition.calcium/t.servings).toFixed(1)," mg"]})]}),t.nutrition.iron>0&&(0,a.jsxs)("div",{className:"bg-orange-50 rounded-lg p-3",children:[a.jsx("div",{className:"text-sm text-gray-600",children:"Żelazo"}),(0,a.jsxs)("div",{className:"text-lg font-semibold text-gray-900",children:[(t.nutrition.iron/t.servings).toFixed(1)," mg"]})]}),t.nutrition.vitaminC>0&&(0,a.jsxs)("div",{className:"bg-green-50 rounded-lg p-3",children:[a.jsx("div",{className:"text-sm text-gray-600",children:"Witamina C"}),(0,a.jsxs)("div",{className:"text-lg font-semibold text-gray-900",children:[(t.nutrition.vitaminC/t.servings).toFixed(1)," mg"]})]})]})]}),m.length>0&&(0,a.jsxs)("div",{className:"mt-6",children:[a.jsx("h4",{className:"text-sm font-semibold text-gray-700 mb-3",children:"Alergeny występujące w posiłku"}),(0,a.jsxs)("div",{className:"bg-red-50 border border-red-200 rounded-lg p-4",children:[a.jsx("div",{className:"text-sm font-medium text-red-900 mb-2",children:(0,w.x8)(m)}),a.jsx("div",{className:"space-y-1",children:(0,w.Xr)(m).map((e,t)=>a.jsx("div",{className:"text-xs text-red-800",children:e},t))})]})]})]})})]}),r.length>0&&(0,a.jsxs)(y,{className:"bg-amber-50 border-amber-200",children:[a.jsx(l,{className:"h-4 w-4 text-amber-600"}),a.jsx(v,{className:"text-amber-800",children:"Niekt\xf3re składniki nie są jeszcze dodane do bazy produkt\xf3w magazynowych. Dodaj je, aby obliczyć pełne wartości odżywcze."})]}),(0,a.jsxs)("div",{className:"bg-white rounded-lg shadow-md border border-gray-100 overflow-hidden",children:[a.jsx("div",{className:"px-6 py-4 bg-gray-50 border-b border-gray-200",children:(0,a.jsxs)("h3",{className:"text-lg font-semibold text-gray-900",children:["Składniki (",t.ingredients.length,")"]})}),a.jsx("div",{className:"divide-y divide-gray-200",children:t.ingredients.map(e=>{let t=e.product?.allergens&&e.product.allergens.length>0;return a.jsx("div",{className:"px-6 py-4 hover:bg-gray-50 transition-colors",children:(0,a.jsxs)("div",{className:"flex items-start justify-between gap-4",children:[(0,a.jsxs)("div",{className:"flex-1",children:[(0,a.jsxs)("div",{className:"flex items-center gap-3",children:[(0,a.jsxs)("h4",{className:(0,x.cn)("text-gray-900",t?"font-bold":"font-medium"),children:[e.productName,t&&e.product?.allergens&&(0,a.jsxs)("span",{className:"ml-2 text-xs text-red-600",children:["(",(0,w.x8)(e.product.allergens),")"]})]}),!e.productId&&a.jsx(h,{variant:"outline",className:"bg-amber-100 text-amber-800 border-amber-300",children:"Brak w bazie"}),e.productId&&e.product?.currentStock===0&&a.jsx(h,{variant:"outline",className:"bg-red-100 text-red-800 border-red-300",children:"Brak w magazynie"})]}),(0,a.jsxs)("p",{className:"text-sm text-gray-600 mt-1",children:[e.quantity," ",e.unit," na porcję",e.product?.manufacturer&&(0,a.jsxs)("span",{className:"text-gray-400",children:[" • ",e.product.manufacturer]})]}),e.product&&(0,a.jsxs)("div",{className:"mt-3 bg-gray-50 rounded-lg p-3 border border-gray-200",children:[a.jsx("h5",{className:"text-xs font-semibold text-gray-700 mb-2",children:"Wartości odżywcze w tej porcji:"}),e.product.calories||e.product.protein||e.product.fat||e.product.carbohydrates||e.product.salt||e.product.calcium||e.product.iron||e.product.vitaminC?(0,a.jsxs)("div",{className:"space-y-3",children:[(0,a.jsxs)("div",{className:"grid grid-cols-2 md:grid-cols-5 gap-2 text-xs",children:[e.product.calories?(0,a.jsxs)("div",{children:[a.jsx("span",{className:"text-gray-500",children:"Kalorie:"}),(0,a.jsxs)("span",{className:"ml-1 font-medium text-gray-900",children:[(e.product.calories*e.quantity/100).toFixed(0)," kcal"]})]}):null,e.product.protein?(0,a.jsxs)("div",{children:[a.jsx("span",{className:"text-gray-500",children:"Białko:"}),(0,a.jsxs)("span",{className:"ml-1 font-medium text-gray-900",children:[(e.product.protein*e.quantity/100).toFixed(1)," g"]})]}):null,e.product.fat?(0,a.jsxs)("div",{children:[a.jsx("span",{className:"text-gray-500",children:"Tłuszcz:"}),(0,a.jsxs)("span",{className:"ml-1 font-medium text-gray-900",children:[(e.product.fat*e.quantity/100).toFixed(1)," g"]})]}):null,e.product.carbohydrates?(0,a.jsxs)("div",{children:[a.jsx("span",{className:"text-gray-500",children:"Węgl.:"}),(0,a.jsxs)("span",{className:"ml-1 font-medium text-gray-900",children:[(e.product.carbohydrates*e.quantity/100).toFixed(1)," g"]})]}):null,e.product.salt?(0,a.jsxs)("div",{children:[a.jsx("span",{className:"text-gray-500",children:"S\xf3l:"}),(0,a.jsxs)("span",{className:"ml-1 font-medium text-gray-900",children:[(e.product.salt*e.quantity/100).toFixed(1)," g"]})]}):null]}),(e.product.calcium||e.product.iron||e.product.vitaminC)&&(0,a.jsxs)("div",{children:[a.jsx("h6",{className:"text-xs font-semibold text-gray-600 mb-1",children:"Witaminy i minerały:"}),(0,a.jsxs)("div",{className:"grid grid-cols-3 gap-2 text-xs",children:[e.product.calcium?(0,a.jsxs)("div",{className:"bg-purple-50 rounded px-2 py-1",children:[a.jsx("span",{className:"text-gray-500",children:"Wapń:"}),(0,a.jsxs)("span",{className:"ml-1 font-medium text-gray-900",children:[(e.product.calcium*e.quantity/100).toFixed(1)," mg"]})]}):null,e.product.iron?(0,a.jsxs)("div",{className:"bg-orange-50 rounded px-2 py-1",children:[a.jsx("span",{className:"text-gray-500",children:"Żelazo:"}),(0,a.jsxs)("span",{className:"ml-1 font-medium text-gray-900",children:[(e.product.iron*e.quantity/100).toFixed(1)," mg"]})]}):null,e.product.vitaminC?(0,a.jsxs)("div",{className:"bg-green-50 rounded px-2 py-1",children:[a.jsx("span",{className:"text-gray-500",children:"Wit. C:"}),(0,a.jsxs)("span",{className:"ml-1 font-medium text-gray-900",children:[(e.product.vitaminC*e.quantity/100).toFixed(1)," mg"]})]}):null]})]})]}):a.jsx("p",{className:"text-xs text-gray-500 italic",children:"Brak informacji o wartościach odżywczych"})]}),!e.product&&a.jsx("div",{className:"mt-2",children:a.jsx("p",{className:"text-xs text-amber-600 italic",children:"Dodaj produkt do bazy, aby zobaczyć wartości odżywcze"})})]}),!e.productId&&a.jsx(s.default,{href:`/inventory?add_product=${encodeURIComponent(e.productName)}`,children:(0,a.jsxs)(n.z,{size:"sm",variant:"outline",className:"gap-2 text-amber-700 border-amber-300 hover:bg-amber-50 whitespace-nowrap",children:[a.jsx(c,{className:"w-4 h-4"}),"Dodaj do magazynu"]})})]})},e.id)})})]})]})}},81331:(e,t,r)=>{"use strict";r.d(t,{z:()=>l});var a=r(83537),s=r(3995),n=r(80155),i=r(53290),d=r(64761);let o=(0,i.j)("inline-flex items-center justify-center whitespace-nowrap rounded-md text-sm font-medium ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50",{variants:{variant:{default:"bg-primary text-primary-foreground hover:bg-primary/90",destructive:"bg-destructive text-destructive-foreground hover:bg-destructive/90",outline:"border border-input bg-background hover:bg-accent hover:text-accent-foreground",secondary:"bg-secondary text-secondary-foreground hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-10 px-4 py-2",sm:"h-9 rounded-md px-3",lg:"h-11 rounded-md px-8",icon:"h-10 w-10"}},defaultVariants:{variant:"default",size:"default"}}),l=s.forwardRef(({className:e,variant:t,size:r,asChild:s=!1,...i},l)=>{let c=s?n.g7:"button";return a.jsx(c,{className:(0,d.cn)(o({variant:t,size:r,className:e})),ref:l,...i})});l.displayName="Button"},81526:(e,t,r)=>{"use strict";r.d(t,{Xr:()=>n,x8:()=>s});let a=[{id:1,name:"GLUTEN",description:"Ziarna zb\xf3ż zawierające GLUTEN (pszenica, żyto, jęczmień, owies, orkisz, kamut) oraz produkty pochodne"},{id:2,name:"SKORUPIAKI",description:"SKORUPIAKI i produkty pochodne"},{id:3,name:"JAJA",description:"JAJA i produkty pochodne"},{id:4,name:"RYBY",description:"RYBY i produkty pochodne"},{id:5,name:"ORZESZKI ZIEMNE",description:"ORZESZKI ZIEMNE (arachidowe) i produkty pochodne"},{id:6,name:"SOJA",description:"SOJA i produkty pochodne"},{id:7,name:"MLEKO",description:"MLEKO i produkty pochodne (łącznie z laktozą)"},{id:8,name:"ORZECHY",description:"ORZECHY (migdały, laskowe, włoskie, nerkowca, pekan, brazylijskie, pistacje, makadamia) i produkty pochodne"},{id:9,name:"SELER",description:"SELER i produkty pochodne"},{id:10,name:"GORCZYCA",description:"GORCZYCA i produkty pochodne"},{id:11,name:"SEZAM",description:"NASIONA SEZAMU i produkty pochodne"},{id:12,name:"DWUTLENEK SIARKI",description:"DWUTLENEK SIARKI i siarczyny w stężeniach powyżej 10 mg/kg lub 10 mg/l (SO₂)"},{id:13,name:"ŁUBIN",description:"ŁUBIN i produkty pochodne"},{id:14,name:"MIĘCZAKI",description:"MIĘCZAKI i produkty pochodne"}];function s(e){return e&&0!==e.length?e.sort((e,t)=>e-t).map(e=>`A:${e}`).join(", "):""}function n(e){return e&&0!==e.length?e.sort((e,t)=>e-t).map(e=>{let t=a.find(t=>t.id===e);return t?`A:${e} - ${t.description}`:`A:${e}`}):[]}},83178:(e,t,r)=>{"use strict";r.d(t,{_:()=>s});var a=r(53524);let s=globalThis.prisma??new a.PrismaClient},64761:(e,t,r)=>{"use strict";r.d(t,{cn:()=>n});var a=r(61862),s=r(82703);function n(...e){return(0,s.m6)((0,a.W)(e))}},42662:(e,t,r)=>{"use strict";r.d(t,{Z:()=>a});let a=(0,r(89004).Z)("ArrowLeft",[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]])},62301:(e,t,r)=>{"use strict";r.d(t,{Z:()=>a});let a=(0,r(89004).Z)("ChefHat",[["path",{d:"M17 21a1 1 0 0 0 1-1v-5.35c0-.457.316-.844.727-1.041a4 4 0 0 0-2.134-7.589 5 5 0 0 0-9.186 0 4 4 0 0 0-2.134 7.588c.411.198.727.585.727 1.041V20a1 1 0 0 0 1 1Z",key:"1qvrer"}],["path",{d:"M6 17h12",key:"1jwigz"}]])},15438:(e,t,r)=>{"use strict";var a=r(34513);r.o(a,"notFound")&&r.d(t,{notFound:function(){return a.notFound}})},34513:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),function(e,t){for(var r in t)Object.defineProperty(e,r,{enumerable:!0,get:t[r]})}(t,{ReadonlyURLSearchParams:function(){return i},RedirectType:function(){return a.RedirectType},notFound:function(){return s.notFound},permanentRedirect:function(){return a.permanentRedirect},redirect:function(){return a.redirect}});let a=r(69138),s=r(18403);class n extends Error{constructor(){super("Method unavailable on `ReadonlyURLSearchParams`. Read more: https://nextjs.org/docs/app/api-reference/functions/use-search-params#updating-searchparams")}}class i extends URLSearchParams{append(){throw new n}delete(){throw new n}set(){throw new n}sort(){throw new n}}("function"==typeof t.default||"object"==typeof t.default&&null!==t.default)&&void 0===t.default.__esModule&&(Object.defineProperty(t.default,"__esModule",{value:!0}),Object.assign(t.default,t),e.exports=t.default)},18403:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),function(e,t){for(var r in t)Object.defineProperty(e,r,{enumerable:!0,get:t[r]})}(t,{isNotFoundError:function(){return s},notFound:function(){return a}});let r="NEXT_NOT_FOUND";function a(){let e=Error(r);throw e.digest=r,e}function s(e){return"object"==typeof e&&null!==e&&"digest"in e&&e.digest===r}("function"==typeof t.default||"object"==typeof t.default&&null!==t.default)&&void 0===t.default.__esModule&&(Object.defineProperty(t.default,"__esModule",{value:!0}),Object.assign(t.default,t),e.exports=t.default)},34769:(e,t)=>{"use strict";var r;Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"RedirectStatusCode",{enumerable:!0,get:function(){return r}}),function(e){e[e.SeeOther=303]="SeeOther",e[e.TemporaryRedirect=307]="TemporaryRedirect",e[e.PermanentRedirect=308]="PermanentRedirect"}(r||(r={})),("function"==typeof t.default||"object"==typeof t.default&&null!==t.default)&&void 0===t.default.__esModule&&(Object.defineProperty(t.default,"__esModule",{value:!0}),Object.assign(t.default,t),e.exports=t.default)},69138:(e,t,r)=>{"use strict";var a;Object.defineProperty(t,"__esModule",{value:!0}),function(e,t){for(var r in t)Object.defineProperty(e,r,{enumerable:!0,get:t[r]})}(t,{RedirectType:function(){return a},getRedirectError:function(){return o},getRedirectStatusCodeFromError:function(){return x},getRedirectTypeFromError:function(){return p},getURLFromRedirectError:function(){return m},isRedirectError:function(){return u},permanentRedirect:function(){return c},redirect:function(){return l}});let s=r(54580),n=r(72934),i=r(34769),d="NEXT_REDIRECT";function o(e,t,r){void 0===r&&(r=i.RedirectStatusCode.TemporaryRedirect);let a=Error(d);a.digest=d+";"+t+";"+e+";"+r+";";let n=s.requestAsyncStorage.getStore();return n&&(a.mutableCookies=n.mutableCookies),a}function l(e,t){void 0===t&&(t="replace");let r=n.actionAsyncStorage.getStore();throw o(e,t,(null==r?void 0:r.isAction)?i.RedirectStatusCode.SeeOther:i.RedirectStatusCode.TemporaryRedirect)}function c(e,t){void 0===t&&(t="replace");let r=n.actionAsyncStorage.getStore();throw o(e,t,(null==r?void 0:r.isAction)?i.RedirectStatusCode.SeeOther:i.RedirectStatusCode.PermanentRedirect)}function u(e){if("object"!=typeof e||null===e||!("digest"in e)||"string"!=typeof e.digest)return!1;let[t,r,a,s]=e.digest.split(";",4),n=Number(s);return t===d&&("replace"===r||"push"===r)&&"string"==typeof a&&!isNaN(n)&&n in i.RedirectStatusCode}function m(e){return u(e)?e.digest.split(";",3)[2]:null}function p(e){if(!u(e))throw Error("Not a redirect error");return e.digest.split(";",2)[1]}function x(e){if(!u(e))throw Error("Not a redirect error");return Number(e.digest.split(";",4)[3])}(function(e){e.push="push",e.replace="replace"})(a||(a={})),("function"==typeof t.default||"object"==typeof t.default&&null!==t.default)&&void 0===t.default.__esModule&&(Object.defineProperty(t.default,"__esModule",{value:!0}),Object.assign(t.default,t),e.exports=t.default)},26148:()=>{},80155:(e,t,r)=>{"use strict";r.d(t,{g7:()=>n});var a=r(3995),s=r(83537),n=a.forwardRef((e,t)=>{let{children:r,...n}=e,d=a.Children.toArray(r),l=d.find(o);if(l){let e=l.props.children,r=d.map(t=>t!==l?t:a.Children.count(e)>1?a.Children.only(null):a.isValidElement(e)?e.props.children:null);return(0,s.jsx)(i,{...n,ref:t,children:a.isValidElement(e)?a.cloneElement(e,void 0,r):null})}return(0,s.jsx)(i,{...n,ref:t,children:r})});n.displayName="Slot";var i=a.forwardRef((e,t)=>{let{children:r,...s}=e;if(a.isValidElement(r)){let e=function(e){let t=Object.getOwnPropertyDescriptor(e.props,"ref")?.get,r=t&&"isReactWarning"in t&&t.isReactWarning;return r?e.ref:(r=(t=Object.getOwnPropertyDescriptor(e,"ref")?.get)&&"isReactWarning"in t&&t.isReactWarning)?e.props.ref:e.props.ref||e.ref}(r);return a.cloneElement(r,{...function(e,t){let r={...t};for(let a in t){let s=e[a],n=t[a];/^on[A-Z]/.test(a)?s&&n?r[a]=(...e)=>{n(...e),s(...e)}:s&&(r[a]=s):"style"===a?r[a]={...s,...n}:"className"===a&&(r[a]=[s,n].filter(Boolean).join(" "))}return{...e,...r}}(s,r.props),ref:t?function(...e){return t=>e.forEach(e=>{"function"==typeof e?e(t):null!=e&&(e.current=t)})}(t,e):e})}return a.Children.count(r)>1?a.Children.only(null):null});i.displayName="SlotClone";var d=({children:e})=>(0,s.jsx)(s.Fragment,{children:e});function o(e){return a.isValidElement(e)&&e.type===d}},53290:(e,t,r)=>{"use strict";r.d(t,{j:()=>n});let a=e=>"boolean"==typeof e?"".concat(e):0===e?"0":e,s=function(){for(var e,t,r=0,a="";r<arguments.length;)(e=arguments[r++])&&(t=function e(t){var r,a,s="";if("string"==typeof t||"number"==typeof t)s+=t;else if("object"==typeof t){if(Array.isArray(t))for(r=0;r<t.length;r++)t[r]&&(a=e(t[r]))&&(s&&(s+=" "),s+=a);else for(r in t)t[r]&&(s&&(s+=" "),s+=r)}return s}(e))&&(a&&(a+=" "),a+=t);return a},n=(e,t)=>r=>{var n;if((null==t?void 0:t.variants)==null)return s(e,null==r?void 0:r.class,null==r?void 0:r.className);let{variants:i,defaultVariants:d}=t,o=Object.keys(i).map(e=>{let t=null==r?void 0:r[e],s=null==d?void 0:d[e];if(null===t)return null;let n=a(t)||a(s);return i[e][n]}),l=r&&Object.entries(r).reduce((e,t)=>{let[r,a]=t;return void 0===a||(e[r]=a),e},{});return s(e,o,null==t?void 0:null===(n=t.compoundVariants)||void 0===n?void 0:n.reduce((e,t)=>{let{class:r,className:a,...s}=t;return Object.entries(s).every(e=>{let[t,r]=e;return Array.isArray(r)?r.includes({...d,...l}[t]):({...d,...l})[t]===r})?[...e,r,a]:e},[]),null==r?void 0:r.class,null==r?void 0:r.className)}}};var t=require("../../../../webpack-runtime.js");t.C(e);var r=e=>t(t.s=e),a=t.X(0,[4372,9405,7069,5972,3277,3443],()=>r(89035));module.exports=a})();